---
title: ä»€ä¹ˆæ˜¯ Piniaï¼Ÿ| Pinia å­¦ä¹ æŒ‡å—
description: äº†è§£ Piniaï¼ŒVue.js å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ã€‚æ¢ç´¢å…¶æ ¸å¿ƒç‰¹æ€§ã€ä¼˜åŠ¿ä»¥åŠä¸ºä»€ä¹ˆå®ƒæ˜¯ Vuex çš„å®Œç¾æ›¿ä»£å“ã€‚
keywords: Pinia, Vue.js, çŠ¶æ€ç®¡ç†, Vuex æ›¿ä»£å“, TypeScript, å¼€å‘å·¥å…·
head:
  - ["meta", { name: "author", content: "tzx" }]
  - ["meta", { name: "generator", content: "tzx" }]
  - ["meta", { property: "og:type", content: "article" }]
  - ["meta", { property: "og:title", content: "ä»€ä¹ˆæ˜¯ Piniaï¼Ÿ| Pinia å­¦ä¹ æŒ‡å—" }]
  - ["meta", { property: "og:description", content: "äº†è§£ Piniaï¼ŒVue.js å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ã€‚æ¢ç´¢å…¶æ ¸å¿ƒç‰¹æ€§ã€ä¼˜åŠ¿ä»¥åŠä¸ºä»€ä¹ˆå®ƒæ˜¯ Vuex çš„å®Œç¾æ›¿ä»£å“ã€‚" }]
  - ["meta", { property: "og:url", content: "https://allfun.net/zh/guide/introduction" }]
  - ["meta", { property: "og:image", content: "https://allfun.net/og-image.svg" }]
  - ["meta", { property: "twitter:card", content: "summary_large_image" }]
  - ["meta", { property: "twitter:title", content: "ä»€ä¹ˆæ˜¯ Piniaï¼Ÿ| Pinia å­¦ä¹ æŒ‡å—" }]
  - ["meta", { property: "twitter:description", content: "äº†è§£ Piniaï¼ŒVue.js å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ã€‚æ¢ç´¢å…¶æ ¸å¿ƒç‰¹æ€§ã€ä¼˜åŠ¿ä»¥åŠä¸ºä»€ä¹ˆå®ƒæ˜¯ Vuex çš„å®Œç¾æ›¿ä»£å“ã€‚" }]
  - ["meta", { property: "twitter:image", content: "https://allfun.net/og-image.svg" }]
  - ["meta", { property: "twitter:url", content: "https://allfun.net/zh/guide/introduction" }]
---

# ä»€ä¹ˆæ˜¯ Piniaï¼Ÿ

Pinia æ˜¯ Vue.js çš„å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ã€‚å®ƒä¸º Vue åº”ç”¨æä¾›äº†ä¸€ä¸ªé›†ä¸­å¼çš„çŠ¶æ€å­˜å‚¨ï¼Œè®©æ‚¨å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ä¸­å…±äº«çŠ¶æ€ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ ç›´è§‚æ˜“ç”¨
Pinia æä¾›äº†ç®€æ´ç›´è§‚çš„ APIï¼Œè®©çŠ¶æ€ç®¡ç†å˜å¾—ç®€å•æ˜äº†ã€‚æ‚¨æ— éœ€ç¼–å†™å¤æ‚çš„æ ·æ¿ä»£ç ï¼Œå¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ã€‚

### ğŸ”’ ç±»å‹å®‰å…¨
å®Œæ•´çš„ TypeScript æ”¯æŒï¼Œæä¾›å‡ºè‰²çš„ç±»å‹æ¨æ–­å’Œè‡ªåŠ¨è¡¥å…¨ä½“éªŒã€‚å³ä½¿åœ¨ JavaScript é¡¹ç›®ä¸­ï¼Œæ‚¨ä¹Ÿèƒ½äº«å—åˆ°ç±»å‹æç¤ºçš„ä¾¿åˆ©ã€‚

### ğŸ› ï¸ å¼€å‘å·¥å…·æ”¯æŒ
å¼ºå¤§çš„ Vue DevTools æ”¯æŒï¼ŒåŒ…æ‹¬ï¼š
- æ—¶é—´æ—…è¡Œè°ƒè¯•
- çƒ­é‡è½½
- çŠ¶æ€å¿«ç…§
- åŠ¨ä½œè¿½è¸ª

### ğŸ”§ å¯æ‰©å±•
é€šè¿‡æ’ä»¶ç³»ç»Ÿæ‰©å±• Pinia åŠŸèƒ½ï¼Œæ»¡è¶³å„ç§å¤æ‚éœ€æ±‚ï¼š
- çŠ¶æ€æŒä¹…åŒ–
- æ•°æ®åŒæ­¥
- ä¸­é—´ä»¶æ”¯æŒ

### ğŸ“¦ æ¨¡å—åŒ–
æ¯ä¸ª store éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œæ”¯æŒï¼š
- ä»£ç åˆ†å‰²
- æ‡’åŠ è½½
- æ ‘æ‘‡ä¼˜åŒ–

### ğŸª¶ è½»é‡çº§
å‹ç¼©åä»…çº¦ 1.5KBï¼Œå¯¹åº”ç”¨æ€§èƒ½å½±å“æå°ã€‚

## ä¸ Vuex çš„å¯¹æ¯”

| ç‰¹æ€§ | Pinia | Vuex |
|------|-------|------|
| API å¤æ‚åº¦ | ç®€å•ç›´è§‚ | ç›¸å¯¹å¤æ‚ |
| TypeScript æ”¯æŒ | åŸç”Ÿæ”¯æŒ | éœ€è¦é¢å¤–é…ç½® |
| æ¨¡å—åŒ– | å¤©ç„¶æ”¯æŒ | éœ€è¦å‘½åç©ºé—´ |
| ä»£ç åˆ†å‰² | è‡ªåŠ¨æ”¯æŒ | æ‰‹åŠ¨é…ç½® |
| ç»„åˆå¼ API | å®Œç¾é›†æˆ | éœ€è¦è¾…åŠ©å‡½æ•° |
| åŒ…å¤§å° | ~1.5KB | ~2.5KB |

## ä½•æ—¶ä½¿ç”¨ Piniaï¼Ÿ

æ‚¨åº”è¯¥è€ƒè™‘ä½¿ç”¨ Pinia å½“ï¼š

âœ… **å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«çŠ¶æ€**
```javascript
// ç”¨æˆ·ä¿¡æ¯éœ€è¦åœ¨å¤šä¸ªé¡µé¢æ˜¾ç¤º
const userStore = useUserStore()
```

âœ… **çŠ¶æ€é€»è¾‘å˜å¾—å¤æ‚**
```javascript
// å¤æ‚çš„è´­ç‰©è½¦é€»è¾‘
const cartStore = useCartStore()
cartStore.addItem(product)
cartStore.applyDiscount(coupon)
```

âœ… **éœ€è¦æŒä¹…åŒ–çŠ¶æ€**
```javascript
// ç”¨æˆ·åå¥½è®¾ç½®
const settingsStore = useSettingsStore()
// è‡ªåŠ¨ä¿å­˜åˆ° localStorage
```

âœ… **æ„å»ºå¤§å‹åº”ç”¨**
```javascript
// æ¨¡å—åŒ–çš„çŠ¶æ€ç®¡ç†
import { useAuthStore } from '@/stores/auth'
import { useProductStore } from '@/stores/product'
```

## åŸºæœ¬æ¦‚å¿µ

### Storeï¼ˆå­˜å‚¨ï¼‰
Store æ˜¯ä¸€ä¸ªä¿å­˜çŠ¶æ€å’Œä¸šåŠ¡é€»è¾‘çš„å®ä½“ï¼Œç±»ä¼¼äºç»„ä»¶ï¼Œä½†å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ä¸­è®¿é—®ã€‚

### Stateï¼ˆçŠ¶æ€ï¼‰
State æ˜¯ store çš„æ ¸å¿ƒï¼ŒåŒ…å«åº”ç”¨çš„æ•°æ®ã€‚

```javascript
state: () => ({
  user: null,
  isLoggedIn: false,
  preferences: {}
})
```

### Gettersï¼ˆè·å–å™¨ï¼‰
Getters æ˜¯ store çš„è®¡ç®—å±æ€§ï¼Œç”¨äºæ´¾ç”ŸçŠ¶æ€ã€‚

```javascript
getters: {
  fullName: (state) => `${state.user.firstName} ${state.user.lastName}`,
  isAdmin: (state) => state.user?.role === 'admin'
}
```

### Actionsï¼ˆåŠ¨ä½œï¼‰
Actions ç”¨äºä¿®æ”¹çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«å¼‚æ­¥é€»è¾‘ã€‚

```javascript
actions: {
  async login(credentials) {
    const user = await api.login(credentials)
    this.user = user
    this.isLoggedIn = true
  }
}
```

## ç®€å•ç¤ºä¾‹

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ç¤ºä¾‹ï¼š

```javascript
// stores/counter.js
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  // çŠ¶æ€
  state: () => ({
    count: 0,
    name: 'Eduardo'
  }),
  
  // è·å–å™¨
  getters: {
    doubleCount: (state) => state.count * 2
  },
  
  // åŠ¨ä½œ
  actions: {
    increment() {
      this.count++
    },
    
    async fetchUserData() {
      // å¼‚æ­¥æ“ä½œ
      const userData = await api.getUser()
      this.name = userData.name
    }
  }
})
```

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š

```vue
<template>
  <div>
    <p>{{ counter.name }}: {{ counter.count }}</p>
    <p>åŒå€: {{ counter.doubleCount }}</p>
    <button @click="counter.increment()">+1</button>
  </div>
</template>

<script setup>
import { useCounterStore } from '@/stores/counter'

const counter = useCounterStore()
</script>
```

## ä¸‹ä¸€æ­¥

ç°åœ¨æ‚¨å·²ç»äº†è§£äº† Pinia çš„åŸºæœ¬æ¦‚å¿µï¼Œè®©æˆ‘ä»¬ç»§ç»­å­¦ä¹ ï¼š

- [å®‰è£… Pinia](./installation)
- [å¿«é€Ÿå¼€å§‹](./getting-started)
- [å®šä¹‰ Store](./defining-stores)

å‡†å¤‡å¥½æ·±å…¥äº†è§£ Pinia äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹å§ï¼ğŸš€